!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.BgNest=e():t.BgNest=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e){var n=function(t){t=t||{},this.options={zindex:t.zindex||"-1",opacity:t.opacity||.5,color:t.color||"0,0,0",count:t.count||150},this.init()},o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)};n.prototype={init:function(){var t=this,e=t.options,n=document.createElement("canvas");t.canvas=n,n.id="bgnest_"+(new Date).getTime(),n.style.cssText="position:fixed;top:0;left:0;z-index:"+e.zindex+";opacity:"+e.opacity,t.set_canvas_size(),window.onresize=function(){t.set_canvas_size()},document.body.appendChild(n);var o={x:null,y:null,r:2e4};window.onmousemove=function(t){t=t||window.event,o.x=t.clientX,o.y=t.clientY},window.onmouseout=function(){o.x=o.y=null},t.mouse_point=o;for(var i=[],r=Math.random,a=0;a<e.count;a++)i.push({x:r()*t.width,y:r()*t.height,xa:2*r()-1,ya:2*r()-1,r:6e3});return t.random_points=i,t.all_points=i.concat([o]),t},set_canvas_size:function(){var t=this,e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;t.width=t.canvas.width=e,t.height=t.canvas.height=n},draw:function(){var t=this,e=t.canvas.getContext("2d");return e.clearRect(0,0,t.width,t.height),t.random_points.forEach(function(n,o){n.x+=n.xa,n.y+=n.ya,n.xa*=n.x>t.width||n.x<0?-1:1,n.ya*=n.y>t.height||n.y<0?-1:1,e.fillRect(n.x-.5,n.y-.5,1,1);for(var i=o+1;i<t.all_points.length;i++){var r=t.all_points[i];if(null!==r.x&&null!==r.y){var a=n.x-r.x,c=n.y-r.y,u=a*a+c*c;if(u<r.r){r===t.mouse_point&&u>=r.r/2&&(n.x-=.03*a,n.y-=.03*c);var s=(r.r-u)/r.r;e.beginPath(),e.lineWidth=s/2,e.strokeStyle="rgb("+t.options.color+","+(s+.2)+")",e.moveTo(n.x,n.y),e.lineTo(r.x,r.y),e.stroke()}}}}),o(function(){t.draw()}),t}},t.exports=n}])});